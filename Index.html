<!DOCTYPE html>
<html>
<head>
    <title>Molar Mass Calculator</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        #container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        label, input, button {
            font-size: 16px;
        }

        #result {
            font-size: 20px;
        }

        #backButton {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 8px 12px;
            font-size: 16px;
            text-decoration: none;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
    <script>
        function calculate() {
            var formula = document.getElementById("formula").value;
            var atomic_masses = {
                H: 1.00795,
                He: 4.00260,
                Li: 6.9412,
                Be: 9.01218,
                B: 10.8117,
                C: 12.0108,
                N: 14.00674,
                O: 15.9994,
                F: 18.9984,
                Ne: 20.1797,
                Na: 22.9898,
                Mg: 24.3051,
                Al: 26.9815,
                Si: 28.0855,
                P: 30.9738,
                S: 32.0666,
                Cl: 35.4528,
                Ar: 39.948,
                K: 39.0983,
                Ca: 40.0784, 
                Sc: 44.9559,
                Ti: 47.8761,
                V: 50.9415,
                Cr: 51.9962,
                Mn: 54.9380,
                Fe: 55.8452,
                Co: 58.9332,
                Ni: 58.6934,
                Cu: 63.5463,
                Zn: 65.392,
                Ga: 69.723,
                Ge: 72.612,
                As: 74.9216,
                Se: 78.963,
                Br: 79.904,
                Kr: 83.801,
                Rb: 85.4678,
                Sr: 87.621,
                Y: 88.9059,
                Zr: 91.2242,
                Nb: 92.9064,
                Mo: 95.941,
                Tc: 98,
                Ru: 101.072,
                Rh: 102.906,
                Pd: 106.421,
                Ag: 107.868,
                Cd: 112.412,
                In: 114.818,
                Sn: 118.711,
                Sb: 121.760,
                Te: 127.603,
                I: 126.904,
                Xe: 131.292,
                Cs: 132.905,
                Ba: 137.328,
                La: 138.906,
                Ce: 140.116,
                Pr: 140.908,
                Nd: 144.243,
                Pm: 145,
                Sm: 150.363,
                Eu: 151.964,
                Gd: 157.253,
                Tb: 158.925,
                Dy: 162.503,
                Ho: 164.930,
                Er: 167.263,
                Tm: 168.934,
                Yb: 173.04,
                Lu: 174.967,
                Hf: 178.492,
                Ta: 180.948,
                W: 183.841,
                Re: 186.207,
                Os: 190.233,
                Ir: 192.217,
                Pt: 195.078,
                Au: 196.967,
                Hg: 200.592,
                Tl: 204.383,
                Pb: 207.21,
                Bi: 208.980,
                U: 238.829
              
            
            
            
            }; 
          
            var mass = 0;
            var regex = /([A-Z][a-z]?)(\d*)/g;
            var matches;

            var formula_elements = [];

            while ((matches = regex.exec(formula)) !== null) {
                var element = matches[1];
                var count = matches[2] ? parseInt(matches[2]) : 1;
                mass += atomic_masses[element] * count;
                formula_elements.push({element: element, count: count});
            }

            document.getElementById("result").textContent = "Molar Mass: " + mass.toFixed(6) + " g/mol";
            document.getElementById("result_breakdown").innerHTML = "<br><b>Breakdown:</b><br>";
            for (var i = 0; i < formula_elements.length; i++) {
                var subscript = formula_elements[i].count > 1 ? "_{" + formula_elements[i].count + "}" : "";
                document.getElementById("result_breakdown").innerHTML += "(" + formula_elements[i].element + subscript + " * " + atomic_masses[formula_elements[i].element].toFixed(6) + ") + ";
            }
            document.getElementById("result_breakdown").innerHTML = document.getElementById("result_breakdown").innerHTML.slice(0, -2); // remove the last "+ "
        }
    </script>
</head>
<body>
    <a href="chemistry_calculator_hub.html" id="backButton">Back to Calculator Hub</a>
    <div id="container">
        <h1>Molar Mass Calculator</h1>
        <label for="formula">Chemical Formula:</label>
        <input type="text" id="formula" name="formula" value=" ">
        <button onclick="calculate()">Calculate</button>
        <p id="result"></p>
        <p id="result_breakdown"></p>
    </div>
</body>
</html>
